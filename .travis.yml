language: node_js

os:
  - linux
  - osx
  - windows

node_js:
  - 10
  - 12
  - 14

_anchors:
  - &refreshpath eval $(powershell -NonInteractive -Command 'write("export PATH=`"" + ([Environment]::GetEnvironmentVariable("PATH","Machine") + ";" + [Environment]::GetEnvironmentVariable("PATH","User")).replace("\","/").replace("C:","/c").replace(";",":") + ":`$PATH`"")')

before_install:
  - if [ "$TRAVIS_OS_NAME" = "linux"   ]; then sudo apt-get update                ; fi
  - if [ "$TRAVIS_OS_NAME" = "linux"   ]; then sudo apt-get install tesseract-ocr ; fi
  - if [ "$TRAVIS_OS_NAME" = "osx"     ]; then brew update                        ; fi
  - if [ "$TRAVIS_OS_NAME" = "osx"     ]; then brew install tesseract             ; fi
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then choco install tesseract --pre      ; fi
  - if [ "$TRAVIS_OS_NAME" = "windows" ]; then refreshpath                        ; fi
